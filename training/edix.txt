"vector<int> rsmax1(n+2),rsmax2(n+2);//1…左から,2…右から",
"for(int i=1;i<=n;i++){",
"\trsmax1[i]=max(rsmax1[i-1],a[i]);",
"}",
"for(int i=n;i>=1;i--){",
"\trsmax2[i]=max(rsmax2[i+1],a[i]);",
"}",
"int d;",
"cin>>d;",
"for(int i=0;i<d;i++){",
"\tint l,r;",
"\tcin>>l>>r;",
"\tcout<<max(rsmax1[l-1],rsmax2[r+1])<<'\n';",
"}",